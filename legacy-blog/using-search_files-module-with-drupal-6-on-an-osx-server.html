<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"><title>Using search_files Module with Drupal 6 on an OSX Server | CS Development</title></head><body><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-66512025-1', 'auto');
            ga('send', 'pageview');</script><div class="container"><h1>Using search_files Module with Drupal 6 on an OSX Server</h1><p>A current project has had me setting up a large database and community driven site for a client. We're using Drupal 6 because of it's stability, features, extensibility, etc., as well as its great user and community-contributed content. One of the key requirements of this site is the ability to search through large amounts of pre-existing data, most of which are in PDF format. Off to find a proper module for extending Drupal's core search..<br><br>After spending much time researching the <a target="_blank" href="http://drupal.org/project/search_files">search_files module</a>, I eventually threw my hands in the air and switched over to the Google Custom Search Engine. Google CSE allows integrating a search box into your site, and there's of course an existing Drupal module for easy integration into the core search. Google CSE, however, seems to be having major issues with (my luck) file searching! Sure, it's there for some, however after too many days of fiddling with it, forcing re-indexing, allowing for automated re-indexing, tweaking my sitemap.xml, and as many other tricks as I could think of, I was still unable to get Google CSE to take notice of any of my node attachments. It was time to head back to search_files. Here's the key though, for any of you reading this post to actually get this running on an OSX server.<br><br>&bull; <a target="_blank" href="http://www.bluem.net/files/pdftotext.dmg?rev=0">Grab the copy of pdftotext</a> from <a target="_blank" href="http://www.bluem.net/en/mac/others/">Carsten Blum's Mac Development page</a><br>&bull; Install, of course. Checkout the readme. Installs pdftotext (and no other helpers or viewers) to /usr/local/bin/pdftotext<br>&bull; Install the search_files module (link above) and <b>enable all three modules</b> -- search_files, search_attachments, search_directories<br>&bull; Head to your search_files settings page, configuring the proper directory for your files (i.e. sites/default/files)<br>&bull; Change the PDF helper to: <code>/usr/local/bin/pdftotext %file% -</code><br>&bull; Now go to your standard search settings page, re-index the site, and run Cron a few times. You should be getting attachments in your search results now!</p></div><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script><script>if ('addEventListener' in document) {
            document.addEventListener('DOMContentLoaded', function() {
                FastClick.attach(document.body);
            }, false);
        }</script></body></html>