<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"><title>Invoke Drupal #ajax element via JavaScript / jQuery | CS Development</title></head><body><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-66512025-1', 'auto');
            ga('send', 'pageview');</script><div class="container"><h1>Invoke Drupal #ajax element via JavaScript / jQuery</h1>You can easily invoke a Drupal 7 form element's #ajax callback via JavaScript, you just have to know how to trigger the binding properly. If you look at the inline JavaScript that Drupal prints on your form's page, you'll see local Drupal settings <strong>as well as ajax settings</strong> to be used on the current page. Here's an example: <code>jQuery.extend(...Drupal's JavaScript settings..."ajax":{"edit-field-my-field-name-und-0-add-item":{"callback":"example_field_widget_form_ajax","wrapper":"example-field-widget-form-wrapper","method":"replaceWith","effect":"fade","event":"mousedown","keypress":true,"prevent":"click","url":"\/example.com\/drupal\/system\/ajax","submit":{"_triggering_element_name":"op","_triggering_element_value":"Refresh"}}},"states":{"#edit-revision":{"checked":{"textarea[name=\u0022log\u0022]":{"empty":false}}}},"anonymous":"Anonymous"});</code> You can see that the element with the ID "edit-field-my-field-name-und-0-add-item" requires the event "mousedown" (but not "click"!) to trigger the #ajax callback. I had tried $.click(), $.submit(), etc., and couldn't figure out why the button element wouldn't run the callback until I saw that the event for buttons is "mousedown". So, <code>jQuery('#my-item').trigger('mousedown');</code> does the trick.</div><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script><script>if ('addEventListener' in document) {
            document.addEventListener('DOMContentLoaded', function() {
                FastClick.attach(document.body);
            }, false);
        }</script></body></html>