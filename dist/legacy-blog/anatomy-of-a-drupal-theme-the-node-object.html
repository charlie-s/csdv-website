<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"><title>Anatomy of a Drupal Theme - The Node Object | CS Development</title></head><body><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-66512025-1', 'auto');
            ga('send', 'pageview');</script><div class="container"><h1>Anatomy of a Drupal Theme - The Node Object</h1><p>The function behind the $node object is <a href="http://api.drupal.org/api/function/node_load/6">node_load()</a>. This brings the $node object into play within your node.tpl.php template file and gives you the ability to <em>display</em>any variables from the node.&nbsp;Drupal handles everything behind the scenes -- access permissions, attached taxonomy, attached files, meta information, and more -- and hands you the gift wrapped object. In addition to the core variables, <strong>the node object also includes any added variables, such as CCK fields.&nbsp;</strong></p><p>In other words, <em>you can theme a completely custom page to match whatever you dreamed up in Photoshop simply by printing the needed $node values into the appropriate places.</em> This is probably obvious to many, but the elegance can get lost on the new user. For example, take this documentation page from Drupal.org:</p><p><a href="/files/theme-01.jpg" class="fancy-image"><img alt="" src="/files/theme-01.jpg" style="width: 400px; height: 325px"></a></p><p>For the sake of this article, let&#39;s assume there are a few standard node fields and a few additional CCK fields within this page:</p><p><a href="/files/theme-02.jpg" class="fancy-image"><img alt="" src="/files/theme-02.jpg" style="width: 400px; height: 361px"></a></p><p>While the sidebars and overall layout are defined in our page.tpl.php, the node.tpl.php file could be as simple as this:</p><pre style="color:#d1d1d1;background:#000000">
<span style="color:#ff8906">&lt;</span><span style="color:#e66170; font-weight:bold">h1</span><span style="color:#ff8906">&gt;</span><span style="color:#ff8906; background:#281800">&lt;?php</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#e66170; background:#281800; font-weight:bold">print</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ffffff; background:#281800">$node</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">title</span><span style="color:#b060b0; background:#281800">;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ff8906; background:#281800">?&gt;</span><span style="color:#ff8906">&lt;/</span><span style="color:#e66170; font-weight:bold">h1</span><span style="color:#ff8906">&gt;</span>
<span style="color:#ff8906">&lt;</span><span style="color:#e66170; font-weight:bold">div</span> class<span style="color:#d2cd86">=</span><span style="color:#00c4c4">&quot;meta&quot;</span><span style="color:#ff8906">&gt;</span><span style="color:#ff8906; background:#281800">&lt;?php</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#e66170; background:#281800; font-weight:bold">print</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ffffff; background:#281800">$node</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">author</span><span style="color:#b060b0; background:#281800">;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ff8906; background:#281800">?&gt;</span> - <span style="color:#ff8906; background:#281800">&lt;?php</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#e66170; background:#281800; font-weight:bold">print</span><span style="color:#ffffff; background:#281800"> format_date</span><span style="color:#d2cd86; background:#281800">(</span><span style="color:#ffffff; background:#281800">$node</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">created</span><span style="color:#d2cd86; background:#281800">,</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#00c4c4; background:#281800">&#39;custom&#39;</span><span style="color:#d2cd86; background:#281800">,</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#00c4c4; background:#281800">&#39;D M j Y&#39;</span><span style="color:#d2cd86; background:#281800">)</span><span style="color:#b060b0; background:#281800">;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ff8906; background:#281800">?&gt;</span><span style="color:#ff8906">&lt;/</span><span style="color:#e66170; font-weight:bold">div</span><span style="color:#ff8906">&gt;</span>

<span style="color:#ff8906">&lt;</span><span style="color:#e66170; font-weight:bold">div</span> class<span style="color:#d2cd86">=</span><span style="color:#00c4c4">&quot;terms&quot;</span><span style="color:#ff8906">&gt;</span>
   <span style="color:#ff8906; background:#281800">&lt;?php</span><span style="color:#ffffff; background:#281800">  </span><span style="color:#9999a9; background:#281800">// print out each term attached to this node, link it to it&#39;s taxonomy id listing showing only the name of the term as the link text</span>
<span style="color:#ffffff; background:#281800">&nbsp;&nbsp;&nbsp;</span><span style="color:#e66170; background:#281800; font-weight:bold">foreach</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#d2cd86; background:#281800">(</span><span style="color:#ffffff; background:#281800">$node</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">taxonomy</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#e66170; background:#281800; font-weight:bold">as</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ffffff; background:#281800">$term</span><span style="color:#d2cd86; background:#281800">)</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#b060b0; background:#281800">{</span>
<span style="color:#ffffff; background:#281800">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:#e66170; background:#281800; font-weight:bold">print</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#00c4c4; background:#281800">&#39;&lt;a href=&quot;&#39;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#d2cd86; background:#281800">.</span><span style="color:#ffffff; background:#281800"> base_path</span><span style="color:#d2cd86; background:#281800">(</span><span style="color:#d2cd86; background:#281800">)</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#d2cd86; background:#281800">.</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#00c4c4; background:#281800">&#39;taxonomy/term/&#39;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#d2cd86; background:#281800">.</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ffffff; background:#281800">$term</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">tid</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#d2cd86; background:#281800">.</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#00c4c4; background:#281800">&#39;&quot;&gt;&#39;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#d2cd86; background:#281800">.</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ffffff; background:#281800">$term</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">name</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#d2cd86; background:#281800">.</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#00c4c4; background:#281800">&#39;&lt;/a&gt;&#39;</span><span style="color:#b060b0; background:#281800">;</span>
<span style="color:#ffffff; background:#281800">&nbsp;&nbsp;&nbsp;</span><span style="color:#b060b0; background:#281800">}</span>
<span style="color:#ffffff; background:#281800">&nbsp;&nbsp;&nbsp;</span><span style="color:#ff8906; background:#281800">?&gt;</span>
<span style="color:#ff8906">&lt;/</span><span style="color:#e66170; font-weight:bold">div</span><span style="color:#ff8906">&gt;</span>

<span style="color:#ff8906">&lt;</span><span style="color:#e66170; font-weight:bold">div</span> class<span style="color:#d2cd86">=</span><span style="color:#00c4c4">&quot;content&quot;</span><span style="color:#ff8906">&gt;</span>
  <span style="color:#ff8906; background:#281800">&lt;?php</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#e66170; background:#281800; font-weight:bold">print</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ffffff; background:#281800">$node</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">content</span><span style="color:#d2cd86; background:#281800">[</span><span style="color:#00c4c4; background:#281800">&#39;body&#39;</span><span style="color:#d2cd86; background:#281800">]</span><span style="color:#d2cd86; background:#281800">[</span><span style="color:#00c4c4; background:#281800">&#39;#value&#39;</span><span style="color:#d2cd86; background:#281800">]</span><span style="color:#b060b0; background:#281800">;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ff8906; background:#281800">?&gt;</span>
  <span style="color:#ff8906; background:#281800">&lt;?php</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#e66170; background:#281800; font-weight:bold">print</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ffffff; background:#281800">$node</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">field_module_requisites_value</span><span style="color:#d2cd86; background:#281800">[</span><span style="color:#00c4c4; background:#281800">&#39;0&#39;</span><span style="color:#d2cd86; background:#281800">]</span><span style="color:#d2cd86; background:#281800">[</span><span style="color:#00c4c4; background:#281800">&#39;safe&#39;</span><span style="color:#d2cd86; background:#281800">]</span><span style="color:#b060b0; background:#281800">;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ff8906; background:#281800">?&gt;</span>
  <span style="color:#ff8906; background:#281800">&lt;?php</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#e66170; background:#281800; font-weight:bold">print</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ffffff; background:#281800">$node</span><span style="color:#d2cd86; background:#281800">-&gt;</span><span style="color:#ffffff; background:#281800">field_module_documentation_value</span><span style="color:#d2cd86; background:#281800">[</span><span style="color:#00c4c4; background:#281800">&#39;0&#39;</span><span style="color:#d2cd86; background:#281800">]</span><span style="color:#d2cd86; background:#281800">[</span><span style="color:#00c4c4; background:#281800">&#39;safe&#39;</span><span style="color:#d2cd86; background:#281800">]</span><span style="color:#b060b0; background:#281800">;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ff8906; background:#281800">?&gt;</span>
<span style="color:#ff8906">&lt;/</span><span style="color:#e66170; font-weight:bold">div</span><span style="color:#ff8906">&gt;</span>
</pre><p><br>We&#39;re grabbing the title by printing out $node-&gt;title, the author by printing out $node-&gt;author, etc. To get all of taxonomy terms we cycle through $node-&gt;taxonomy and print out the term name ($term-&gt;name) while linking to the term ID ($term-&gt;tid).</p><p>We&#39;re also printing out some CCK fields with $node-&gt;field_module_requisites_value and $node-&gt;field_module_documentation_value. The [&#39;0&#39;][&#39;safe&#39;] are sub arrays that include specific types of data <em>within</em>those CCK fields, but they shouldn&#39;t confuse you!</p><p><strong>Where do we get all of the $node variable names?</strong> The best way to see them in their full hierarchical glory is to create a new node template file, such as node-blog.tpl.php, and add this code into the bottom of the file:</p><pre style="color:#d1d1d1;background:#000000">
<span style="color:#ff8906">&lt;</span><span style="color:#e66170; font-weight:bold">pre</span><span style="color:#ff8906">&gt;</span>
<span style="color:#ff8906; background:#281800">&lt;?php</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#e66170; background:#281800; font-weight:bold">print_r</span><span style="color:#d2cd86; background:#281800">(</span><span style="color:#ffffff; background:#281800">$node</span><span style="color:#d2cd86; background:#281800">)</span><span style="color:#b060b0; background:#281800">;</span><span style="color:#ffffff; background:#281800"> </span><span style="color:#ff8906; background:#281800">?&gt;</span>
<span style="color:#ff8906">&lt;/</span><span style="color:#e66170; font-weight:bold">pre</span><span style="color:#ff8906">&gt;</span>
</pre><p><strong><br>You&#39;ll get a nicely formatted, easy to read teardown of your complete node object.</strong>Understand and use the $node object and you&#39;ll have complete pixel-perfect control over your end themes.</p><p>For a complete list of core $node variables, check out the <a href="http://drupal.org/node/49768">Drupal 6 Node Object Reference</a> chart.</p><p>The next post on my tear-down of Drupal themes will focus on extending your theme via proper includes (CSS, JS, etc.) and using jQuery within the Drupal environment.&nbsp;</p></div><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script><script>if ('addEventListener' in document) {
            document.addEventListener('DOMContentLoaded', function() {
                FastClick.attach(document.body);
            }, false);
        }</script></body></html>